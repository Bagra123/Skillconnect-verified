<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillConnect Verified</title>
<style>
body {font-family: Arial, sans-serif; margin:0; padding:0; background:#f7f7f7;}
.container {max-width:900px; margin:50px auto; padding:20px; background:white; border-radius:10px; box-shadow:0 4px 6px rgba(0,0,0,0.1);}
input, select {padding:10px; margin:5px 0; width:100%; box-sizing:border-box;}
button {padding:10px; background:#4CAF50; color:white; border:none; cursor:pointer; width:100%; margin-top:5px;}
button:hover {background:#45a049;}
h1,h2,h3 {color:#4CAF50;}
.section {display:none; margin-top:20px;}
.card {border:1px solid #ddd; padding:10px; margin:10px 0; border-radius:5px;}
.info-box {padding:10px; border-radius:5px; margin-bottom:10px; color:#000;}
.small-btn {padding:5px; width:auto; margin-left:5px; font-size:0.9em;}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="container" id="loginDiv">
    <h1 style="text-align:center; color:#4CAF50;">SkillConnect Verified</h1>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <label>Tu es :</label>
    <select id="role">
        <option value="jobSeeker">Demandeur d’emploi</option>
        <option value="freelance">Freelance</option>
    </select>
    <label>Choisis ton skill :</label>
    <select id="skill">
        <option value="web">Web Development</option>
        <option value="design">Design</option>
        <option value="marketing">Marketing</option>
        <option value="data">Data Analysis</option>
    </select>
    <button id="loginBtn" type="button">Se connecter</button>
    <p id="error" style="color:red;"></p>
    <p style="text-align:center;">DEV : Ahmed Saidi</p>
</div>

<!-- FREELANCE TEST -->
<div class="container section" id="testDiv">
    <h2>Test avancé pour ton skill</h2>
    <p style="color:red; font-weight:bold; font-size:1.1em; text-align:center;">
        ⚠️ Attention : L'utilisation d'IA pour répondre au test est interdite ! ⚠️
    </p>
    <div>
        <label>1. Combien font 5 + 7 ?</label>
        <input type="number" id="q1"><br>
        <label>2. Résoudre : 12 * 3 - 4 = ?</label>
        <input type="number" id="q2"><br>
        <label>3. Quelle est la capitale de la Tunisie ?</label>
        <input type="text" id="q3"><br>
        <label>4. En JavaScript : typeof NaN = ?</label>
        <input type="text" id="q4"><br>
        <label>5. Résoudre : (8 + 2) * (5 - 3) / 2 = ?</label>
        <input type="number" id="q5"><br>
    </div>
    <button id="submitTestBtn" type="button">Soumettre le Test</button>
</div>

<!-- ALLER A APPRENDRE -->
<div class="container section" id="learnDiv">
    <h2>Aller à apprendre (20 Dinar aujourd'hui)</h2>
    <p>Voici les réponses pour t'aider à apprendre :</p>
    <ul>
        <li>1. 5 + 7 = <strong>12</strong></li>
        <li>2. 12 * 3 - 4 = <strong>32</strong></li>
        <li>3. Capitale de la Tunisie = <strong>Tunis</strong></li>
        <li>4. typeof NaN en JavaScript = <strong>number</strong></li>
        <li>5. (8 + 2) * (5 - 3) / 2 = <strong>10</strong></li>
    </ul>
    <button id="retryTestBtn" type="button">Repasser le test</button>
</div>

<!-- DASHBOARD -->
<div class="container section" id="dashDiv">
    <h2>Bienvenue !</h2>
    <div class="info-box">Utilisateur: <span id="displayUser"></span></div>
    <div class="info-box">Rôle: <span id="displayRole"></span></div>
    <div class="info-box">Skill: <span id="displaySkill"></span></div>

    <button id="showClientsBtn" type="button">Voir Clients</button>
    <button id="hideAllBtn" type="button" style="background:#f44336;">Hide Tout</button>

    <div id="clientsDiv"></div>

    <button id="subscribeBtn" type="button">S’abonner Premium (99 Dinar)</button>
    <button id="backFromDashBtn" type="button">Retour</button>
</div>

<footer>© Ahmed Saidi – Insta: a.hmeedd__</footer>

<script>
document.addEventListener("DOMContentLoaded", function(){

let userRole = '';
let userName = '';
let userSkill = '';

const allClients = [
  {name: "Mohamed Ben Ali", price:50, badges:["Badge Web Expert"], projects:["Site e-commerce Tunisien"]},
  {name: "Fatma Trabelsi", price:70, badges:["Badge Designer Pro"], projects:["App mobile Restaurants"]},
  {name: "Sami Jaziri", price:60, badges:["Badge Marketing Guru"], projects:["Campagne marketing"]},
  {name: "Amira Hentati", price:80, badges:["Badge Data Master"], projects:["Dashboard Data"]}
];

// LOGIN
document.getElementById("loginBtn").addEventListener("click", function(){
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    const role = document.getElementById('role').value;
    const skill = document.getElementById('skill').value;
    const error = document.getElementById('error');

    if(user==='test' && pass==='test'){
        userRole = role;
        userName = 'super-user';
        userSkill = skill;
        document.getElementById('displayUser').innerText=userName;
        document.getElementById('displayRole').innerText=role==='jobSeeker'?'Demandeur d’emploi':'Freelance';
        document.getElementById('displaySkill').innerText=skill;

        document.getElementById('loginDiv').style.display='none';
        if(role==='freelance'){
            document.getElementById('testDiv').style.display='block';
        } else {
            document.getElementById('dashDiv').style.display='block';
        }
    } else { error.innerText='Identifiants incorrects!'; }
});

// Soumettre test
document.getElementById('submitTestBtn').addEventListener('click', ()=>{
    const a1 = document.getElementById('q1').value;
    const a2 = document.getElementById('q2').value;
    const a3 = document.getElementById('q3').value.trim();
    const a4 = document.getElementById('q4').value.trim();
    const a5 = document.getElementById('q5').value;

    if(!a1 || !a2 || !a3 || !a4 || !a5){
        alert("⚠️ Attention : Tous les champs doivent être remplis et l'utilisation d'IA est interdite !");
        return;
    }

    if(Number(a1)===12 && Number(a2)===32 && a3.toLowerCase()==='tunis' && a4.toLowerCase()==='number' && Number(a5)===10){
        document.getElementById('testDiv').style.display='none';
        document.getElementById('dashDiv').style.display='block';
    } else {
        document.getElementById('testDiv').style.display='none';
        document.getElementById('learnDiv').style.display='block';
    }
});

// Retry test
document.getElementById('retryTestBtn').addEventListener('click', ()=>{
    document.getElementById('learnDiv').style.display='none';
    document.getElementById('testDiv').style.display='block';
});

// Render clients
function createClientCard(client){
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML=`<strong>${client.name}</strong> - Prix: ${client.price}`;

    if(userRole==='jobSeeker'){
        const badgesBtn=document.createElement('button');
        badgesBtn.className='small-btn';
        badgesBtn.type='button';
        badgesBtn.innerText='Voir Badges';
        badgesBtn.onclick=()=>alert(`Badges de ${client.name}: ${client.badges.join(', ')}`);

        const projectsBtn=document.createElement('button');
        projectsBtn.className='small-btn';
        projectsBtn.type='button';
        projectsBtn.innerText='Voir Projets';
        projectsBtn.onclick=()=>alert(`Projets de ${client.name}: ${client.projects.join(', ')}`);

        div.appendChild(badgesBtn);
        div.appendChild(projectsBtn);
    } else {
        const chooseBtn=document.createElement('button');
        chooseBtn.type='button';
        chooseBtn.innerText='Choisir';
        chooseBtn.onclick=()=>alert(`Vous avez choisi ${client.name}. Attendre réponse du client. OK`);
        div.appendChild(chooseBtn);
    }

    return div;
}

// Afficher clients
document.getElementById('showClientsBtn').addEventListener('click', ()=>{
    const container=document.getElementById('clientsDiv');
    container.innerHTML='';
    allClients.forEach(client=>{
        container.appendChild(createClientCard(client));
    });
});

// Hide Tout
document.getElementById('hideAllBtn').addEventListener('click', ()=>{
    document.getElementById('clientsDiv').innerHTML='';
});

// Abonnement
document.getElementById('subscribeBtn').addEventListener('click',()=>alert('Vous vous êtes abonné au Premium pour 99 Dinar !'));

// Retour
document.getElementById('backFromDashBtn').addEventListener('click',()=>{
    document.getElementById('dashDiv').style.display='none';
    document.getElementById('loginDiv').style.display='block';
});

});
</script>
</body>
</html>